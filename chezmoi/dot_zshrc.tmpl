#!/usr/bin/env bash

# ====================
# Local Variables
# ====================
export CHEZMOI_WORKING_TREE="{{ .chezmoi.workingTree }}"

# ====================
# Env Dependent
# ====================
{{- if and (eq .chezmoi.os "linux") (hasKey .chezmoi.osRelease "id") (eq .chezmoi.osRelease.id "ubuntu") }}
export CFLAGS=-I/usr/include/openssl
export LDFLAGS=-L/usr/lib

zstyle ':completion:*:*:git:*' script ~/.zsh/git-completion.bash
fpath=(~/.zsh $fpath)
autoload -Uz compinit && compinit
{{- end }}

# ====================
# active other rc files
# ====================
source ${CHEZMOI_WORKING_TREE}/shell/sharedrc.sh
if [ -f ${CHEZMOI_WORKING_TREE}/shell/localrc.sh ]; then
  source ${CHEZMOI_WORKING_TREE}/shell/localrc.sh
fi
